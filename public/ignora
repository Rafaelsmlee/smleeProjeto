<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer e Galeria de Imagens com Botões</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/explore.css">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Capriola&family=Carlito:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Brush+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merienda:wght@300..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
</head>

<body>
    <div class="hide" id="fade"></div>
    <div class="modal-pai" id="modal-pai">
        <div class="post">
            <div class="post-top">

                <div class="post-caixa">
                    <img class="img-profile-icon" id="a_restaurante_logo" alt="Logo do perfil restaurante Pollo Loko">
                    <h2 class="profile-name"> <span id="a_restaurante"></span> </h2>
                    <img class="verificado" src="assets/instagram/img/bluemark2.png"
                        alt="Marca de verificado do Instagram">
                </div>
            </div>
    
            <div id="timerDisplay" style="display: none;">Tempo Restante: 0 segundos</div>

            <div class="gallery">
                <div class="post-content">
                    <img class="img-post" src="./assets/invitation/polloLoko/foto3.svg" alt="Imagem de uma das franquias Pollo Loko.">
                    <div class="caption">Texto da primeira imagem</div>
                    <div class="content-controls">
                        <button class="prevButton">Anterior</button>
                        <button class="nextButton">Próxima</button>
                    </div>
                </div>
        
        
            <div class="post">
                <div class="post-top">
                    <div class="post-caixa">
                        <img class="img-profile-icon" id="a_restaurante_logo" alt="Logo do perfil restaurante Pollo Loko">
                        <h2 class="profile-name"> <span id="a_restaurante"></span> </h2>
                        <img class="verificado" src="assets/instagram/img/bluemark2.png" alt="Marca de verificado do Instagram">
                    </div>
                </div>

                <div class="post-content">
                    <img class="img-post" src="./assets/invitation/polloLoko/foto3.svg" alt="Imagem de uma das franquias Pollo Loko.">
                    <div class="caption">Texto da primeira imagem</div>
                    <div class="content-controls">
                        <button class="prevButton">Anterior</button>
                        <button class="nextButton">Próxima</button>
                    </div>
                </div>
  
            </div>
        
            <div class="post">
                <div class="post-top">
                    <div class="post-caixa">
                        <img class="img-profile-icon" id="a_restaurante_logo" alt="Logo do perfil restaurante Pollo Loko">
                        <h2 class="profile-name"> <span id="a_restaurante"></span> </h2>
                        <img class="verificado" src="assets/instagram/img/bluemark2.png" alt="Marca de verificado do Instagram">
                    </div>
                </div>
                </div>
                <div class="post-buttons">
                    <div class="post-interact">
                        <ion-icon class="icon-heart" name="heart-outline"></ion-icon>
                        <a href="https://www.instagram.com/polloloko_oficial/"><ion-icon class="icon-other" name="logo-instagram"></ion-icon></a>
                        <ion-icon class="icon-other" name="paper-plane-outline"></ion-icon>
                    </div>
                    <div class="posttxt">
                        <h2 class="profile"> <span id="a_restaurante_txt"></span> </h2>
                    </div>
                    <div class="caixa-modal">
                        <button id="openModal">Conheça!</button>
                    </div>
                </div>
            </div>

    <script>
        const contents = document.querySelectorAll('.post-content');
        const timesWhenZero = [0, 2, 2]; 
        const timesWhenRunning = [10, 10, 10];
        let currentIndex = 0;
        let remainingTime = timesWhenRunning[currentIndex];
        let timerInterval;

        function updateTimerDisplay() {
            document.getElementById('timerDisplay').innerText = `Tempo Restante: ${remainingTime} segundos`;
        }

        function startTimer() {
            if (timerInterval) clearInterval(timerInterval); 
            timerInterval = setInterval(() => {
                remainingTime--;
                updateTimerDisplay();
                if (remainingTime === 0) {
                    clearInterval(timerInterval);
                    currentIndex = (currentIndex + 1) % contents.length; 
                }
            }, 1000); 
        }

        function addTime(seconds) {
            remainingTime += seconds;
            updateTimerDisplay();
        }

        function changeContent(direction) {
            // Oculta todas as imagens
            contents.forEach(content => {
                content.style.display = 'none';
            });

            // Exibe a imagem correspondente
            contents[currentIndex].style.display = 'flex';

            if (direction === 'next') {
                remainingTime = timesWhenRunning[currentIndex];
            } else {
                remainingTime = timesWhenZero[currentIndex];
            }

            if (currentIndex !== 0) {
                startTimer();
            }
        }

        document.querySelector('.nextButton').addEventListener('click', () => {
            addTime(10);
            if (remainingTime === 0) {
                remainingTime = timesWhenRunning[currentIndex];
            }
            currentIndex = (currentIndex + 1) % contents.length;
            changeContent('next');
        });

        const prevButtons = document.querySelectorAll('.prevButton');
        prevButtons.forEach(button => {
            button.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + contents.length) % contents.length;
                changeContent('prev');
            });
        });

        updateTimerDisplay();
        startTimer();
    </script>
</body>

</html>